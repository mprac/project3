{% extends "orders/base.html" %}

{% block title %} Edit Order {% endblock %}

{% block body %}
<h1>Edit Order</h1>
<a href="/logout">Logout</a>
Hello {{ user.first_name }}



<!-- edit order form  -->
<form>
    <div class="form-group">
   
    {% csrf_token %}
    <input type="hidden" name="user" value="{{user.id}}">
    <input type="hidden" name="menuItem" value="{{ menuitem.id }}">
    <label class="form-control">
        {{ order.menuItem.item.name }} 
        {{ order.menuItem.size }} 
        {{ order.menuItem.price }}
    </label>
    {% if order.menuItem.item.hasToppings %}
    <input class="form-control" id="toppingCount" type="hidden" data-count="{{ menuitem.item.toppingCount }}">
    <div class="accordion" id="accordionCheckbox">
        <div class="card">
          <div class="card-header" id="heading">
            <h2 class="mb-0">
              <button class="checkboxbutton btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#this" aria-expanded="false" aria-controls="this">
                Select Toppings
              </button>
            </h2>
          </div>
      
          <div id="this" class="collapse" aria-labelledby="heading" data-parent="#accordionCheckbox">
            <div class="card-body">
                 <!-- Checkboxes start  here -->
                {% for topping in toppings %}
               
                <div class="form-check">
                    {% for selected in selectedToppings %}
                        {% if selected %}
                        <input class="this" type="checkbox" value="{{topping.name}}" name="checked" checked>
                        <label class="form-check-label" >
                            {{ selected.name }}
                        </label>
                        {% endif %}
                    {% endfor %}
                   
                  </div>
         
                {% endfor %}
                <!-- Checkboxes end  here -->
            </div>
            </div>
          </div>
        </div>
    {% endif %}
    <!-- end toppings -->

    <input class="form-control" type="number" name="count" id="countInput" value="{{ order.count }}" >
    <button class="form-control" type="submit">Update order</button>
</div>
</form>


{% endblock %}
